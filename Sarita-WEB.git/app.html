<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma SGA-CD</title>
    <link rel="stylesheet" href="css/app.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#00A651">
    <!-- Font Awesome para los iconos del menú -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="app-layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>SGA-CD</h2>
            </div>
            <nav id="app-nav" class="app-nav">
                <!-- Los enlaces de navegación se insertarán aquí dinámicamente -->
            </nav>
            <div class="sidebar-footer">
                <button id="logout-btn">Cerrar Sesión</button>
            </div>
        </aside>
        <main class="main-content">
            <header class="main-header">
                <h1 id="main-title" data-i18n-key="welcome">Bienvenido</h1>
                <div class="header-controls">
                    <div class="theme-switcher">
                        <i class="fas fa-sun"></i>
                        <label class="switch">
                            <input type="checkbox" id="theme-toggle">
                            <span class="slider round"></span>
                        </label>
                        <i class="fas fa-moon"></i>
                    </div>
                    <div class="language-switcher">
                        <i class="fas fa-globe"></i>
                        <select id="language-select">
                            <option value="es">Español</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                    <div class="notification-bell">
                        <i class="fas fa-bell"></i>
                        <span id="notification-count" class="notification-count" style="display: none;">0</span>
                    </div>
                    <div id="user-info">
                        <!-- La información del usuario se insertará aquí -->
                    </div>
                </div>
            </header>
            <section id="content-area" class="content-area">
                <!-- El contenido dinámico de cada módulo se cargará aquí -->
                <p>Selecciona una opción del menú para comenzar.</p>

                <!-- Interfaz de Chat del Agente de IA -->
                <div id="agent-chat-container" class="agent-chat-container" style="display: none;">
                    <div class="chat-header">
                        <h3><i class="fas fa-robot"></i> Asistente IA</h3>
                        <button id="close-chat-btn" class="chat-close-btn">&times;</button>
                    </div>
                    <div id="chat-log" class="chat-log">
                        <!-- Los mensajes del chat se insertarán aquí -->
                    </div>
                    <form id="chat-form" class="chat-form">
                        <input type="text" id="chat-input" placeholder="Escribe tu mensaje..." autocomplete="off" required>
                        <button type="button" id="chat-mic-btn"><i class="fas fa-microphone"></i></button>
                        <button type="submit" id="chat-submit-btn"><i class="fas fa-paper-plane"></i></button>
                    </form>
                </div>

            </section>
        </main>
    </div>

    <!-- Modal Genérico -->
    <div id="generic-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="modal-title"></h2>
                <button id="modal-close-btn" class="modal-close">&times;</button>
            </header>
            <div id="modal-body" class="modal-body">
                <!-- El contenido del modal se insertará aquí -->
            </div>
        </div>
    </div>

    <!-- Archivo de configuración global -->
    <script src="js/config.js"></script>
    <!-- Lógica de navegación -->
    <script src="js/navigation.js"></script>
    <!-- Lógica para renderizar vistas -->
    <script src="js/views.js"></script>
    <script src="js/views/admin_empresa.js"></script> <!-- Vista para Admin Empresa -->
    <script src="js/views/profesor.js"></script> <!-- Vista para Profesor -->
    <script src="js/views/jefe_area.js"></script> <!-- Vista para Jefe de Área -->
    <script src="js/views/alumno.js"></script> <!-- Vista para Alumno -->
    <script src="js/views/padre_acudiente.js"></script> <!-- Vista para Padre/Acudiente -->
    <script src="js/views/coordinador.js"></script> <!-- Vista para Coordinador -->
    <script src="js/views/profesional_area.js"></script> <!-- Vista para Profesional de Área -->
    <script src="js/views/tecnico_area.js"></script> <!-- Vista para Técnico de Área -->
    <script src="js/views/jefe_almacen.js"></script> <!-- Vista para Jefe de Almacén -->
    <script src="js/views/almacenista.js"></script> <!-- Vista para Almacenista -->
    <script src="js/views/jefe_escenarios.js"></script> <!-- Vista para Jefe de Escenarios -->
    <script src="js/views/gamificacion.js"></script> <!-- Vistas para Gamificación Social -->
    <!-- Lógica del modal -->
    <script src="js/modal.js"></script>
    <!-- Lógica de Internacionalización (MILA) -->
    <script src="js/i18n.js"></script>
    <!-- Stripe.js for payment processing -->
    <script src="https://js.stripe.com/v3/"></script>

    <!-- Lógica principal de la aplicación -->
    <script src="js/app.js"></script>

    <!-- Icono de Agente Flotante -->
    <div id="floating-agent-icon" class="floating-agent-icon">
        <i class="fas fa-robot"></i>
    </div>
</body>
</html>